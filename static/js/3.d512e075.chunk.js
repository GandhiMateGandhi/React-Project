(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{290:function(e,t,s){"use strict";t.a=s.p+"static/media/UserPhoto.c5accf4f.jpg"},291:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var r=s(89);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var s=[],r=!0,i=!1,a=void 0;try{for(var o,n=e[Symbol.iterator]();!(r=(o=n.next()).done)&&(s.push(o.value),!t||s.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==n.return||n.return()}finally{if(i)throw a}}return s}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},292:function(e,t,s){},293:function(e,t,s){},297:function(e,t,s){},298:function(e,t,s){},301:function(e,t,s){"use strict";s.r(t);var r=s(5),i=s(56),a=s(57),o=s(60),n=s(59),c=s(1),u=(s(292),s(0)),l=(s(293),s(290)),f=s(291),j=function(e){var t=Object(u.useState)(!1),s=Object(f.a)(t,2),r=s[0],i=s[1],a=Object(u.useState)(e.status),o=Object(f.a)(a,2),n=o[0],l=o[1];Object(u.useEffect)((function(){l(e.status)}),[e.status]);return Object(c.jsx)("div",{className:"ProfileStatus",children:r?Object(c.jsx)("div",{children:Object(c.jsx)("input",{onChange:function(e){l(e.currentTarget.value)},onBlur:function(){i(!1),e.updateStatus(n)},autoFocus:!0,value:n})}):Object(c.jsx)("div",{className:"ProfileStatus-Input",onClick:function(){i(!0)},children:Object(c.jsx)("p",{children:e.status||"Status is empty"})})})},d=function(e){return Object(c.jsxs)("div",{className:"ProfileInfo",children:[Object(c.jsx)("div",{className:"ProfileName",children:Object(c.jsx)("h1",{children:e.userProfile.fullName})}),Object(c.jsxs)("div",{className:"ProfileImage",children:[Object(c.jsx)("div",{className:"ProfileImage-Photo",children:Object(c.jsx)("img",{src:e.userProfile.photos.large||l.a,alt:"Profile"})}),Object(c.jsxs)("div",{className:"ProfileImage-Choose",children:[e.isOwner&&Object(c.jsx)("input",{onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])},type:"file",name:"file",id:"file"}),Object(c.jsx)("label",{htmlFor:"file",children:"Choose image"})]})]}),Object(c.jsx)(j,{status:e.userProfileStatus,updateStatus:e.updateStatus})]})},b=s(88),h=(s(297),s(298),s(48)),p=function(e){return Object(c.jsxs)("div",{className:"WallPost",children:[Object(c.jsx)("div",{className:"WallPost-Photo",children:Object(c.jsx)("img",{src:e.userProfile.photos.small||l.a,alt:"User Profile"})}),Object(c.jsx)("div",{children:e.text}),Object(c.jsxs)("div",{children:["Likes: ",e.likesCount]})]})},O=s(122),P=s(123),m=s(24),x=Object(m.b)(150),v=Object(m.c)(2),S=Object(P.a)({form:"addPost"})((function(e){return Object(c.jsxs)("form",{className:"AddPost",onSubmit:e.handleSubmit,children:[Object(c.jsx)("div",{className:"AddPost-Textarea",children:Object(c.jsx)(O.a,{component:m.e,validate:[m.d,x,v],name:"newPost",label:"New post",type:"text"})}),Object(c.jsx)("div",{className:"AddPost-Button",children:Object(c.jsx)("button",{type:"submit",children:"Add Post"})})]})})),g=function(e){var t=e.postsData.map((function(t){return Object(c.jsx)(p,{userProfile:e.userProfile,text:t.text,likesCount:t.likesCount},t.id)}));return Object(c.jsxs)("div",{className:"ProfileWall",children:[Object(c.jsx)(S,{onSubmit:function(t){e.addPost(t.newPost)}}),Object(c.jsx)("div",{className:"WallPostSection",children:t})]})},y=s(19),N=Object(y.b)((function(e){return{postsData:e.profilePage.postsData,newPostText:e.profilePage.newPostText,userProfile:e.profilePage.userProfile}}),(function(e){return{addPost:function(t){e(Object(b.a)(t))}}}))(g),w=function(e){return e.userProfile?Object(c.jsxs)("div",{className:"Profile",children:[Object(c.jsx)(d,Object(r.a)(Object(r.a)({},e),{},{isOwner:e.isOwner,updateStatus:e.updateStatus})),Object(c.jsx)(N,Object(r.a)({},e))]}):Object(c.jsx)(h.a,{})},I=s(10),k=s(11),C=function(e){Object(o.a)(s,e);var t=Object(n.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(a.a)(s,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.userId)||this.props.history.push("/Login"),this.props.getUserProfile(e),this.props.getUserProfileStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(c.jsx)(w,Object(r.a)(Object(r.a)({},this.props),{},{isOwner:!this.props.match.params.userId,updateStatus:this.props.updateUserProfileStatus,savePhoto:this.props.saveProfilePhoto}))}}]),s}(u.Component);t.default=Object(k.compose)(Object(y.b)((function(e){return{userProfile:e.profilePage.userProfile,userProfileStatus:e.profilePage.userProfileStatus,userId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:b.c,getUserProfileStatus:b.d,updateUserProfileStatus:b.f,saveProfilePhoto:b.e}),I.f)(C)}}]);
//# sourceMappingURL=3.d512e075.chunk.js.map