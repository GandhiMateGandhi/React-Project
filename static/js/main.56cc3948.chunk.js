(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return g}));var r=n(10),a=n.n(r),c=n(14),s=n(5),i=n(15),u="FOLLOW",o="UNFOLLOW",l="SET_USERS",d="SET_CURRENT_PAGE",j="SET_TOTAL_USERS_COUNT",f="TOGGLE_IS_FETCHING",b={users:[],usersCountPerPage:5,totalUsersCount:0,currentPage:1,isFetching:!1},p=function(e){return{type:u,userId:e}},O=function(e){return{type:o,userId:e}},h=function(e){return{type:d,currentPage:e}},x=function(e){return{type:f,isFetching:e}},m=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(x(!0)),n.next=3,i.d.getUsers(e,t);case 3:c=n.sent,r(x(!1)),r((s=c.data.items,{type:l,users:s})),r((a=c.data.totalCount,{type:j,totalUsers:a}));case 7:case"end":return n.stop()}var a,s}),n)})));return function(e){return n.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.d.follow(e);case 2:0===t.sent.data.resultCode&&n(p(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.d.unfollow(e);case 2:0===t.sent.data.resultCode&&n(O(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(s.a)(Object(s.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(s.a)(Object(s.a)({},e),{},{followed:!0}):e}))});case o:return Object(s.a)(Object(s.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(s.a)(Object(s.a)({},e),{},{followed:!1}):e}))});case l:return Object(s.a)(Object(s.a)({},e),{},{users:t.users});case d:return Object(s.a)(Object(s.a)({},e),{},{currentPage:t.currentPage});case j:return Object(s.a)(Object(s.a)({},e),{},{totalUsersCount:t.totalUsers});case f:return Object(s.a)(Object(s.a)({},e),{},{isFetching:t.isFetching});default:return e}}},112:function(e,t,n){},15:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u}));var r=n(127),a=r.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"22f29d98-87b4-4898-a75f-c433c157801d"}}),c={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return a.get("users?page=".concat(e,"&count=").concat(t))},follow:function(e){return a.post("follow/"+e)},unfollow:function(e){return a.delete("follow/"+e)}},s={getProfile:function(e){return a.get("profile/"+e)},getProfileStatus:function(e){return a.get("profile/status/"+e)},updateProfileStatus:function(e){return a.put("profile/status/",{status:e})},saveProfilePhoto:function(e){var t=new FormData;return t.append("image",e),a.put("profile/photo",t)}},i={me:function(){return a.get("auth/me")},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return a.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},logout:function(){return a.delete("auth/login")}},u={getCaptchaUrl:function(){return a.get("security/get-captcha-url")}}},157:function(e,t,n){},239:function(e,t,n){},24:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return o}));var r=n(5),a=n(1),c=(n(0),n(112),function(e){return e?void 0:"Required"}),s=function(e){return function(t){return t&&t.length>e?"Must be maximum ".concat(e," characters"):void 0}},i=function(e){return function(t){return t&&t.length<e?"Must me minimum ".concat(e," characters"):void 0}},u=function(e){var t=e.input,n=e.label,c=e.type,s=e.meta,i=s.touched,u=s.error,o=s.warning;return Object(a.jsxs)("div",{className:"Error Error_textarea",children:[Object(a.jsx)("textarea",Object(r.a)(Object(r.a)({},t),{},{placeholder:n,type:c})),i&&(u&&Object(a.jsx)("span",{children:u})||o&&Object(a.jsx)("span",{children:o}))]})},o=function(e){var t=e.input,n=e.label,c=e.type,s=e.meta,i=s.touched,u=s.error,o=s.warning;return Object(a.jsxs)("div",{className:"Error Error_input",children:[Object(a.jsx)("input",Object(r.a)(Object(r.a)({},t),{},{placeholder:n,type:c})),i&&(u&&Object(a.jsx)("span",{children:u})||o&&Object(a.jsx)("span",{children:o}))]})}},240:function(e,t,n){},241:function(e,t,n){},246:function(e,t,n){},247:function(e,t,n){},248:function(e,t,n){},249:function(e,t,n){},250:function(e,t,n){},251:function(e,t,n){},252:function(e,t,n){},290:function(e,t,n){},291:function(e,t,n){"use strict";n.r(t);var r=n(1),a=(n(157),n(125)),c=n(126),s=n(11),i=n(89),u=n(99),o=n(100),l=n(10),d=n.n(l),j=n(14),f=n(5),b=n(15),p=n(48),O="SET_USER_DATA",h="SET_CAPTCHA_URL",x={email:null,id:null,login:null,isAuth:!1,captchaUrl:null},m=function(e,t,n,r){return{type:O,payload:{id:e,email:t,login:n,isAuth:r}}},v=function(e){return{type:h,payload:{captchaUrl:e}}},g=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r,a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.me();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,a=r.id,c=r.login,s=r.email,t(m(a,s,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.logout();case 2:0===e.sent.data.resultCode&&t(m(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.c.getCaptchaUrl();case 2:n=e.sent,r=n.data.url,t(v(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:case h:return Object(f.a)(Object(f.a)({},e),t.payload);default:return e}},C="INITIALIZED",S={initialized:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(f.a)(Object(f.a)({},e),{},{initialized:!0});default:return e}},N=(0,n(11).createStore)(Object(s.combineReducers)({profilePage:i.b,messagesPage:u.a,usersPage:o.a,auth:P,app:E,form:a.a}),(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.compose)(Object(s.applyMiddleware)(c.a)));window.store=N;var L=N,_=n(61),I=n.n(_),U=n(0),k=n.n(U),T=n(27),A=n(56),M=n(57),R=n(60),D=n(59),F=(n(239),n(66),n(240),function(){return Object(r.jsx)("div",{className:"Main",children:Object(r.jsx)("h1",{children:"Main content"})})}),H=(n(241),function(e){var t=e.item,n=e.IconPropClass;return Object(r.jsx)("div",{className:"SideItem ".concat(n),children:Object(r.jsx)(T.b,{to:t,children:t})})});n(246);n.p;var z=function(){return Object(r.jsxs)("nav",{className:"Sidebar BackgroundColor",children:[Object(r.jsx)(H,{IconPropClass:"ProfileIcon",item:"Profile"}),Object(r.jsx)(H,{IconPropClass:"UsersIcon",item:"Users"}),Object(r.jsx)(H,{IconPropClass:"MessagesIcon",item:"Messages"}),Object(r.jsx)(H,{IconPropClass:"NewsIcon",item:"News"}),Object(r.jsx)(H,{IconPropClass:"SettingsIcon",item:"Settings"})]})},W=(n(247),n(38)),B=(n(249),n(250),function(){return Object(r.jsx)("div",{className:"lds-heart",children:Object(r.jsx)("div",{})})}),G=function(){return Object(r.jsxs)("div",{className:"WorkInProgress",children:[Object(r.jsx)("h1",{children:"Work in progress :)"}),Object(r.jsx)(B,{})]})},J=function(){return Object(r.jsx)("div",{className:"News",children:Object(r.jsx)(G,{})})},K=(n(251),function(e){return Object(r.jsx)("div",{className:"Settings",children:Object(r.jsx)(G,{})})}),V=(n(252),n(112),n(123)),X=n(124),q=n(19),Y=n(24),Z=n(9),Q=Object(Y.b)(25),$=Object(Y.c)(2),ee=Object(X.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.pristine,a=e.submitting,c=e.captchaUrl;return Object(r.jsxs)("form",{className:"LoginForm",onSubmit:t,children:[Object(r.jsx)("div",{children:Object(r.jsx)(V.a,{component:Y.a,validate:[Y.d,Q,$],name:"email",label:"Email",type:"text"})}),Object(r.jsx)("div",{children:Object(r.jsx)(V.a,{component:Y.a,validate:[Y.d,Q,$],name:"password",label:"Password",type:"password"})}),Object(r.jsxs)("div",{className:"RememberMeForm",children:[Object(r.jsx)(V.a,{component:Y.a,name:"rememberMe",label:"Remember me",type:"checkbox"}),Object(r.jsx)("label",{htmlFor:"rememberMe",children:"Remember me"})]}),c&&Object(r.jsx)("img",{src:c,alt:"Captcha"}),c&&Object(r.jsx)("div",{children:Object(r.jsx)(V.a,{component:Y.a,validate:[Y.d,Q,$],name:"captcha",label:"Captcha",type:"text"})}),Object(r.jsxs)("div",{className:"Error Error_input",children:[Object(r.jsx)("button",{type:"submit",disabled:n||a,children:"Login"}),e.error&&Object(r.jsx)("span",{children:e.error})]})]})})),te=Object(q.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{authLogin:function(e,t,n,r){return function(){var a=Object(j.a)(d.a.mark((function a(c){var s,i;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.login(e,t,n,r);case 2:0===(s=a.sent).data.resultCode?c(g()):(10===s.data.resultCode&&c(y()),i=s.data.messages.length>0?s.data.messages[0]:"Incorrect login data",c(Object(p.a)("login",{_error:i})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},authLogout:w,getCaptchaUrl:y})((function(e){return e.isAuth?Object(r.jsx)(Z.a,{to:"/Profile"}):Object(r.jsxs)("div",{className:"Login",children:[Object(r.jsx)(ee,{captchaUrl:e.captchaUrl,onSubmit:function(t){e.authLogin(t.email,t.password,t.rememberMe,t.captcha)}}),Object(r.jsx)("div",{className:"Login-TestAccount",children:Object(r.jsxs)("p",{children:[Object(r.jsx)("b",{children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430 \u0432 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442: "})," ",Object(r.jsx)("br",{}),"Email: free@samuraijs.com ",Object(r.jsx)("br",{}),"Password: free"]})})]})})),ne=(n(290),n.p+"static/media/logo.06b89950.svg"),re=function(e){return Object(r.jsx)("header",{className:"Header BackgroundColor",children:Object(r.jsxs)("div",{className:"HeaderWrap",children:[Object(r.jsxs)("div",{className:"HeaderLogo",children:[Object(r.jsx)("img",{src:ne,alt:"Logo"}),Object(r.jsx)("span",{children:"React Project"})]}),Object(r.jsx)("div",{className:"HeaderLogin",children:e.isAuth?Object(r.jsxs)("div",{className:"HeaderLogout",children:[Object(r.jsx)(T.b,{to:"/Profile",children:e.login}),Object(r.jsx)("button",{onClick:e.authLogout,children:"Log out"})]}):Object(r.jsx)(T.b,{to:"/Login",children:"Login"})})]})})},ae=function(e){Object(R.a)(n,e);var t=Object(D.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(M.a)(n,[{key:"render",value:function(){return Object(r.jsx)(re,Object(f.a)({},this.props))}}]),n}(U.Component),ce=Object(q.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth}}),{authLogout:w})(ae),se=function(e){return function(t){return Object(r.jsx)(U.Suspense,{fallback:Object(r.jsx)(W.a,{}),children:Object(r.jsx)(e,Object(f.a)({},t))})}},ie=U.lazy((function(){return n.e(5).then(n.bind(null,304))})),ue=U.lazy((function(){return n.e(3).then(n.bind(null,303))})),oe=U.lazy((function(){return n.e(4).then(n.bind(null,305))})),le=function(e){Object(R.a)(n,e);var t=Object(D.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(M.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(r.jsxs)("div",{className:"Wrapper",children:[Object(r.jsx)(ce,{}),Object(r.jsxs)("div",{className:"PageContainer",children:[Object(r.jsx)(z,{}),Object(r.jsx)("div",{className:"Content",children:Object(r.jsxs)(Z.d,{children:[Object(r.jsx)(Z.b,{path:"/Profile/:userId?",render:se(ue)}),Object(r.jsx)(Z.b,{path:"/Main",render:function(){return Object(r.jsx)(F,{})}}),Object(r.jsx)(Z.b,{path:"/Messages",render:se(oe)}),Object(r.jsx)(Z.b,{path:"/News",render:function(){return Object(r.jsx)(J,{})}}),Object(r.jsx)(Z.b,{path:"/Users",render:se(ie)}),Object(r.jsx)(Z.b,{path:"/Settings",render:function(){return Object(r.jsx)(K,{})}}),Object(r.jsx)(Z.b,{path:"/Login",render:function(){return Object(r.jsx)(te,{})}}),Object(r.jsx)(Z.a,{from:"/",to:"/Profile"}),Object(r.jsx)(Z.b,{render:function(){return Object(r.jsx)(Z.a,{from:"/",to:"/Profile"})}})]})})]})]}):Object(r.jsx)(W.a,{})}}]),n}(U.Component),de=Object(q.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(g());Promise.all([t]).then((function(){e({type:C})}))}}})(le);I.a.render(Object(r.jsx)(k.a.StrictMode,{children:Object(r.jsx)(T.a,{children:Object(r.jsx)(q.a,{store:L,children:Object(r.jsx)(de,{})})})}),document.getElementById("root"))},38:function(e,t,n){"use strict";var r=n(1);n(248);t.a=function(){return Object(r.jsx)("div",{className:"Preloader",children:Object(r.jsxs)("div",{className:"lds-ellipsis",children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})})}},66:function(e,t,n){},89:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return x})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return v}));var r=n(10),a=n.n(r),c=n(14),s=n(64),i=n(5),u=n(15),o="ADD_POST",l="SET_USER_PROFILE",d="SET_USER_PROFILE_STATUS",j="SET_PROFILE_PHOTO",f={postsData:[{id:1,text:"How're you?",likesCount:3},{id:2,text:"Let's do party tonight!",likesCount:1},{id:3,text:"*post*",likesCount:13},{id:4,text:"Hello sweety!",likesCount:6},{id:5,text:"*picture*",likesCount:22}],userProfile:null,userProfileStatus:""},b=function(e){return{type:o,newPostText:e}},p=function(e){return{type:d,status:e}},O=function(e){return{type:j,photos:e}},h=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.getProfile(e);case 2:r=t.sent,n((a=r.data,{type:l,userProfile:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.getProfileStatus(e);case 2:r=t.sent,n(p(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.updateProfileStatus(e);case 2:0===(r=t.sent).data.resultCode?n(p(e)):console.log("Error: ".concat(r.data.messages[0]));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.saveProfilePhoto(e);case 2:0===(r=t.sent).data.resultCode&&n(O(r.data.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(i.a)(Object(i.a)({},e),{},{postsData:[{id:null,text:t.newPostText,likesCount:0}].concat(Object(s.a)(e.postsData))});case l:return Object(i.a)(Object(i.a)({},e),{},{userProfile:t.userProfile});case d:return Object(i.a)(Object(i.a)({},e),{},{userProfileStatus:t.status});case j:return Object(i.a)(Object(i.a)({},e),{},{userProfile:Object(i.a)(Object(i.a)({},e.userProfile),{},{photos:t.photos})});default:return e}}},99:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(64),a=n(5),c="SEND_MESSAGE",s={usersData:[{id:1,name:"Kamilla"},{id:2,name:"Vildan"},{id:3,name:"Rustem"},{id:4,name:"Elvira"},{id:5,name:"Cafe"}],messagesData:[{id:1,text:"How're you"},{id:2,text:"Let's do party tonight!"},{id:3,text:"*post*"},{id:4,text:"Hello sweety!"},{id:5,text:"*picture*"}]},i=function(e){return{type:c,newMessageBody:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return Object(a.a)(Object(a.a)({},e),{},{messagesData:[].concat(Object(r.a)(e.messagesData),[{id:6,text:t.newMessageBody}])});default:return e}}}},[[291,1,2]]]);
//# sourceMappingURL=main.56cc3948.chunk.js.map