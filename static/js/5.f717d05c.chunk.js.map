{"version":3,"sources":["img/ProfileImageGlasses.png","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/common/Paginator/Paginator.jsx","components/Users/Users.jsx","redux/UserSelectors.js","components/Users/UsersContainer.jsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","Paginator","props","pagesCount","Math","ceil","totalUsersCount","usersCountPerPage","pages","portionCount","useState","portionNumber","setPortionNumber","leftPortionBorder","rightPortionBorder","className","onClick","filter","page","map","onPageChange","currentPage","Users","isFetching","Preloader","users","user","id","to","src","photos","small","NoImageSRC","alt","name","followed","unfollow","follow","getUsers","state","usersPage","getUsersCountPerPage","getTotalUsersCount","getCurrentPage","getIsFetching","UsersContainer","setCurrentPage","requestUsers","pageUsersCount","this","React","compose","connect","withRouter"],"mappings":"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","file":"static/js/5.f717d05c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/ProfileImageGlasses.715db3c8.png\";","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import {useState} from \"react\";\r\nimport './Paginator.scss'\r\n\r\nconst Paginator = (props) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.usersCountPerPage);\r\n    let pages = [];\r\n\r\n    for (let i = 0; i < pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionSize = 5;\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionBorder = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionBorder = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className=\"Pagination\">\r\n            {portionNumber > 1 &&\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber - 1)\r\n            }}>Previous</button>\r\n            }\r\n            {pages.filter(page => page >= leftPortionBorder && page <= rightPortionBorder)\r\n                .map(page => <span\r\n                    onClick={() => props.onPageChange(page)}\r\n                    key={page}\r\n                    className={props.currentPage === page && \"Pagination-ActiveItem\"}> {page}\r\n                </span>)}\r\n            {portionCount > portionNumber &&\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber + 1)\r\n            }}>Next</button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator","import \"./Users.scss\"\r\nimport NoImageSRC from \"../../img/ProfileImageGlasses.png\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\n\r\nlet Users = (props) => {\r\n    let usersElement = () => props.users.map(user =>\r\n        <div className=\"UserItem\" id={user.id} key={user.id}>\r\n            <NavLink to={'/Profile/' + user.id}>\r\n                <img src={user.photos.small || NoImageSRC} alt=\"User\"/>\r\n                <p>{user.name} </p>\r\n            </NavLink>\r\n            {user.followed ?\r\n                <button onClick={() => {\r\n                    props.unfollow(user.id)\r\n                }}>Unfollow</button> :\r\n                <button onClick={() => {\r\n                    props.follow(user.id)\r\n                }}>Follow</button>}\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        <>\r\n            <Paginator {...props}/>\r\n            {props.isFetching ? <Preloader/> : null}\r\n            <div className=\"Users\">\r\n                {usersElement()}\r\n            </div>\r\n        </>\r\n    );\r\n}\r\nexport default Users;\r\n","export const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsersCountPerPage = (state) => {\r\n    return state.usersPage.usersCountPerPage\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\n","import {connect} from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport {withRouter} from \"react-router\";\r\nimport {follow, requestUsers, setCurrentPage, unfollow,} from \"../../redux/usersReducer\";\r\nimport * as React from \"react\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getIsFetching,\r\n    getUsersCountPerPage,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/UserSelectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n\r\n        this.props.requestUsers(this.props.currentPage, this.props.pageUsersCount);\r\n\r\n    }\r\n\r\n    onPageChange = (page) => {\r\n\r\n        this.props.setCurrentPage(page);\r\n        this.props.requestUsers(page, this.props.pageUsersCount);\r\n\r\n    }\r\n\r\n    render() {\r\n        return <Users users={this.props.users}\r\n                      usersCountPerPage={this.props.usersCountPerPage}\r\n                      totalUsersCount={this.props.totalUsersCount}\r\n                      currentPage={this.props.currentPage}\r\n                      onPageChange={this.onPageChange}\r\n                      isFetching={this.props.isFetching}\r\n                      follow={this.props.follow}\r\n                      unfollow={this.props.unfollow}\r\n        />\r\n\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        usersCountPerPage: getUsersCountPerPage(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,\r\n        { follow, unfollow, setCurrentPage, requestUsers }),\r\n    withRouter\r\n)\r\n(UsersContainer)\r\n\r\n"],"sourceRoot":""}