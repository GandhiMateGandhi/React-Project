(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{292:function(e,t,s){"use strict";t.a=s.p+"static/media/ProfileImageGlasses.715db3c8.png"},293:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var r=s(90);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var s=[],r=!0,a=!1,i=void 0;try{for(var o,n=e[Symbol.iterator]();!(r=(o=n.next()).done)&&(s.push(o.value),!t||s.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==n.return||n.return()}finally{if(a)throw i}}return s}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},294:function(e,t,s){},295:function(e,t,s){},299:function(e,t,s){},300:function(e,t,s){},303:function(e,t,s){"use strict";s.r(t);var r=s(5),a=s(56),i=s(57),o=s(60),n=s(59),c=s(1),u=(s(294),s(0)),l=(s(66),s(295),s(292)),f=s(293),d=function(e){var t=Object(u.useState)(!1),s=Object(f.a)(t,2),r=s[0],a=s[1],i=Object(u.useState)(e.status),o=Object(f.a)(i,2),n=o[0],l=o[1];Object(u.useEffect)((function(){l(e.status)}),[e.status]);return Object(c.jsxs)("div",{className:"ProfileStatus",children:[!r&&Object(c.jsx)("div",{className:"ProfileStatus-Input",onClick:function(){a(!0)},children:Object(c.jsx)("p",{children:e.status||"Status is empty"})}),r&&Object(c.jsx)("div",{className:"ProfileStatus-Input_editMode",children:Object(c.jsx)("input",{onChange:function(e){l(e.currentTarget.value)},onBlur:function(){a(!1),e.updateStatus(n)},autoFocus:!0,value:n})})]})},j=function(e){return Object(c.jsxs)("div",{className:"ProfileInfo",children:[Object(c.jsx)("div",{className:"ProfileName",children:Object(c.jsx)("h1",{children:e.userProfile.fullName})}),Object(c.jsxs)("div",{className:"ProfileImage",children:[Object(c.jsx)("div",{className:"ProfileImage-Photo",children:Object(c.jsx)("img",{src:e.userProfile.photos.large||l.a,alt:"Profile"})}),Object(c.jsxs)("div",{className:"ProfileImage-Choose",children:[e.isOwner&&Object(c.jsx)("input",{onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])},type:"file",name:"file",id:"file"}),Object(c.jsx)("label",{htmlFor:"file",children:"Choose image"})]})]}),Object(c.jsx)(d,{status:e.userProfileStatus,updateStatus:e.updateStatus})]})},b=s(89),p=(s(299),s(300),s(38)),h=function(e){return Object(c.jsxs)("div",{className:"WallPost",children:[Object(c.jsx)("div",{className:"WallPost-Photo",children:Object(c.jsx)("img",{src:e.userProfile.photos.small||l.a,alt:"User Profile"})}),Object(c.jsx)("div",{children:e.text}),Object(c.jsxs)("div",{children:["Likes: ",e.likesCount]})]})},P=s(123),O=s(124),m=s(24),x=Object(m.b)(150),v=Object(m.c)(2),g=Object(O.a)({form:"addPost"})((function(e){return Object(c.jsxs)("form",{className:"AddPost",onSubmit:e.handleSubmit,children:[Object(c.jsx)("div",{className:"AddPost-Textarea",children:Object(c.jsx)(P.a,{component:m.e,validate:[m.d,x,v],name:"newPost",label:"New post",type:"text"})}),Object(c.jsx)("div",{className:"AddPost-Button",children:Object(c.jsx)("button",{type:"submit",children:"Add Post"})})]})})),S=function(e){var t=e.postsData.map((function(t){return Object(c.jsx)(h,{userProfile:e.userProfile,text:t.text,likesCount:t.likesCount},t.id)}));return Object(c.jsxs)("div",{className:"ProfileWall",children:[Object(c.jsx)(g,{onSubmit:function(t){e.addPost(t.newPost)}}),Object(c.jsx)("div",{className:"WallPostSection",children:t})]})},y=s(19),N=Object(y.b)((function(e){return{postsData:e.profilePage.postsData,newPostText:e.profilePage.newPostText,userProfile:e.profilePage.userProfile}}),(function(e){return{addPost:function(t){e(Object(b.a)(t))}}}))(S),I=function(e){return e.userProfile?Object(c.jsxs)("div",{className:"Profile BackgroundColor",children:[Object(c.jsx)(j,Object(r.a)(Object(r.a)({},e),{},{isOwner:e.isOwner,updateStatus:e.updateStatus})),Object(c.jsx)(N,Object(r.a)({},e))]}):Object(c.jsx)(p.a,{})},w=s(9),k=s(11),C=function(e){Object(o.a)(s,e);var t=Object(n.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.userId)||this.props.history.push("/Login"),this.props.getUserProfile(e),this.props.getUserProfileStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(c.jsx)(I,Object(r.a)(Object(r.a)({},this.props),{},{isOwner:!this.props.match.params.userId,updateStatus:this.props.updateUserProfileStatus,savePhoto:this.props.saveProfilePhoto}))}}]),s}(u.Component);t.default=Object(k.compose)(Object(y.b)((function(e){return{userProfile:e.profilePage.userProfile,userProfileStatus:e.profilePage.userProfileStatus,userId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:b.c,getUserProfileStatus:b.d,updateUserProfileStatus:b.f,saveProfilePhoto:b.e}),w.g)(C)}}]);
//# sourceMappingURL=3.06197199.chunk.js.map